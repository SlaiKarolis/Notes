@page
@model FinalTask.Pages.Notes.IndexModel
@{
}		
	<br />

	<div class="container row">
		<div class="Col-10 m-3">
		<h2>Notes list</h2>
		

		<div class="col-2">
			<a asp-page = "Create"class= "btn btn-outline-primary">Creat note</a>
		</div>

		<div>
			<p>
			<form>
				<input type="text" placeholder="search" asp-for=SearchInput/>
				<select asp-items="Model.Categories" asp-for="SelectedItem">
					<option value="">select category</option>
				</select>
			<input type="submit" value ="Search"/>
			</form>
			</p>
		</div>
	</div>
	
	<div>
		<form method="post" class="mr-2 d-flex flex-row">
			@if (Model.Notes.Count > 0)
			{
				
					@foreach (var item in Model.Notes)
					{
						<div class="card border-dark p-2 m-3" style="width: 18rem;">
						<div class="mx-auto card-header m-2">@item.Category.Name</div>

						<h5 class="card-title">@item.Title</h5>

						<p class="card-text">@item.Content</p>

							<td>
								<button asp-page-handler="Delete" asp-route-id="@item.Id" onclick="return confirm('Are you sure?')" class="btn btn-outline-danger btn-sm mb-1">Delete</button>
								<a asp-page = "Edit" asp-route-id="@item.Id"class = "btn btn-outline-info btn-sm">Edit</a>
							</td>
						</div>
						
					}
			}
			else
			{
				<p> No Notes available</p>
			}
		</form>
	</div>
